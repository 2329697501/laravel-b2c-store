(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"/fB6":function(e,t,a){e.exports={formTitle:"antd-pro-pages-goods-goods-formTitle"}},"21zi":function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Q9mQ");var n=l(a("diRs")),r=l(a("q1tI")),u=r.default.createElement("div",{style:{width:250}},r.default.createElement("p",null,"\u5212\u7ebf\u4ef7\u5728\u5546\u54c1\u8be6\u60c5\u4e2d\u663e\u793a\u793a\u4f8b\uff1a"),r.default.createElement("img",{style:{width:"100%",height:"218.9px"},src:"https://img.yzcdn.cn/public_files/2018/04/08/newPriceIntro.jpg"})),d=function(){return r.default.createElement("div",null,r.default.createElement("span",null,"\u5546\u54c1\u6ca1\u6709\u4f18\u60e0\u7684\u60c5\u51b5\u4e0b\uff0c\u5212\u7ebf\u4ef7\u5728\u5546\u54c1\u8be6\u60c5\u4f1a\u4ee5\u5212\u7ebf\u5f62\u5f0f\u663e\u793a\u3002"),r.default.createElement(n.default,{content:u,trigger:"click",placement:"top"},r.default.createElement("a",null,"\u793a\u4f8b")))};t.default=d},"5hTB":function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var n=l(a("W9HT"));a("+L6B");var r=l(a("2/Rp"));a("y8nQ");var u=l(a("Vl3Y"));a("Pwec");var d=l(a("CtXQ"));a("FJo9");var i=l(a("L41K"));a("IzEo");var o=l(a("bx4M")),s=l(a("o0o1")),c=l(a("lwsE")),f=l(a("W8MJ")),m=l(a("a1gu")),p=l(a("Nsbk")),g=l(a("PJYZ")),h=l(a("7W2i"));a("5NDa");var v=l(a("5rEg")),E=l(a("q1tI")),y=a("MuoO"),k=l(a("aokR")),_=l(a("21zi")),b=l(a("WnAZ")),w=l(a("XQBP")),x=l(a("LG6a")),N=l(a("sVJB")),C=l(a("sw4P")),S=l(a("zHco")),I=a("B9rN"),O=l(a("MaiO")),M=l(a("usdK")),q=l(a("jr5w")),j=l(a("LvDl")),P=function(e,t,a,l){var n,r=arguments.length,u=r<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,a):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)u=Reflect.decorate(e,t,a,l);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(u=(r<3?n(u):r>3?n(t,a,u):n(t,a))||u);return r>3&&u&&Object.defineProperty(t,a,u),u},D=function(e,t,a,l){return new(a||(a=Promise))(function(n,r){function u(e){try{i(l.next(e))}catch(e){r(e)}}function d(e){try{i(l["throw"](e))}catch(e){r(e)}}function i(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(u,d)}i((l=l.apply(e,t||[])).next())})},L=a("LwrP"),W=(0,q.default)(250)(v.default),R=(0,q.default)(250)(x.default),T=(0,q.default)(50)(N.default),B=a("/fB6"),V=function(e){function t(){var e;return(0,c.default)(this,t),e=(0,m.default)(this,(0,p.default)(t).apply(this,arguments)),e.state={sku_group:[],sku_title_data:[],goods_skus:[]},e.getEditGoodsBase=function(){return D((0,g.default)(e),void 0,void 0,s.default.mark(function e(){var t;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,I.editGoodsBase)({id:this.state.edit_goods_id});case 2:t=e.sent,t&&200===t.code?(console.log(t.data),this.setState({edit_goods:t.data})):M.default.goBack();case 4:case"end":return e.stop()}},e,this)}))},e.handleSubmit=function(t){var a=e.props,l=a.form,n=a.dispatch;t.preventDefault(),l.validateFieldsAndScroll(function(t,a){return D((0,g.default)(e),void 0,void 0,s.default.mark(function e(){return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t||(console.log(a),n({type:"goods/saveGoods",payload:Object.assign({},a),callback:function(e){}}));case 1:case"end":return e.stop()}},e,this)}))})},e.handleGoodsSku=function(t){console.log("handleGoodsSku");var a=e.state.edit_goods,l=t.map(function(e){return{id:e.id,name:e.name}}),n=t.map(function(e){return e.sku_list.filter(function(e){return e.id>0})}),r=L(n),u=r.map(function(e){var l=e.map(function(e){return e.id}),n=j.default.sortBy(l).join("-"),r=a&&a.skus.length>0?a.skus.filter(function(e){return e.attr_key===n}):[],u=r.length>0&&r[0];return{attrs:e,attr_key:n,price:u?u.price:null,stock_num:u?u.stock_num:null,code:u?u.code:null,cost_price:u?u.cost_price:null,sold_num:u?u.sold_num:0,is_image:t[0].is_image,media_id:e[0].image?e[0].image.id:0}});e.setState({sku_group:t,sku_title_data:l,goods_skus:u})},e}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.dispatch;t({type:"goods/getGoodsAttr"}),this.props.location.query.id>0&&this.setState({is_edit:!0,edit_goods_id:this.props.location.query.id},function(){e.getEditGoodsBase()})}},{key:"render",value:function(){var e=this;console.log("Edit");var t=this.state,a=t.edit_goods,l=t.is_edit,s=t.sku_title_data,c=t.goods_skus,f=this.props,m=f.form_saveing,p=f.form,g=f.form,h=g.getFieldDecorator,v=g.getFieldsError;return E.default.createElement(S.default,null,l&&a||!l?E.default.createElement("div",{style:{paddingBottom:56}},E.default.createElement(o.default,{bodyStyle:{padding:20}},E.default.createElement("div",{style:{padding:"8px 10px",background:"#f5f7fa"}},E.default.createElement(i.default,{size:"small"},E.default.createElement(i.default.Step,{title:"\u7f16\u8f91\u57fa\u672c\u4fe1\u606f",icon:E.default.createElement(d.default,{type:"form"})}),E.default.createElement(i.default.Step,{title:"\u7f16\u8f91\u5546\u54c1\u8be6\u60c5",icon:E.default.createElement(d.default,{type:"profile"})}),E.default.createElement(i.default.Step,{title:"\u5b8c\u6210",icon:E.default.createElement(d.default,{type:"check-circle"})}))),E.default.createElement(u.default,{onSubmit:this.handleSubmit},E.default.createElement(z,{title:"\u57fa\u672c\u4fe1\u606f"}),E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u5546\u54c1\u540d",required:!0,extra:"\u5546\u54c1\u6807\u9898\u957f\u5ea6\u81f3\u5c113\u4e2a\u5b57\uff0c\u6700\u957f50\u4e2a\u6c49\u5b57"}),h("name",{initialValue:a?a.name:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0"},{max:50,message:"\u957f\u5ea6\u6700\u5927\u4e3a50"}]})(E.default.createElement(W,{style:{maxWidth:500},allowClear:!0}))),E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u5206\u4eab\u63cf\u8ff0",extra:E.default.createElement(k.default,null)}),h("description",{initialValue:a?a.description:"",rules:[{max:36,message:"\u957f\u5ea6\u6700\u5927\u4e3a36"}]})(E.default.createElement(W,{style:{maxWidth:500},allowClear:!0}))),E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u5546\u54c1\u56fe",required:!0,extra:"\u5efa\u8bae\u5c3a\u5bf8\uff1a800*800\u50cf\u7d20\uff0c\u7b2c\u4e00\u5f20\u4e3a\u4ea7\u54c1\u5c01\u9762\uff0c\u4f60\u53ef\u4ee5\u62d6\u62fd\u56fe\u7247\u8c03\u6574\u987a\u5e8f\uff0c\u6700\u591a\u4e0a\u4f2010\u5f20"}),h("medias",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u56fe\u7247"}]})(E.default.createElement(R,Object.assign({medias:a?a.medias:[]},this.props,{max:10})))),E.default.createElement(z,{title:"\u4ef7\u683c\u5e93\u5b58"}),E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u5546\u54c1\u89c4\u683c",extra:"\u5982\u6709\u989c\u8272\u3001\u5c3a\u7801\u7b49\u591a\u79cd\u89c4\u683c\uff0c\u8bf7\u6dfb\u52a0\u5546\u54c1\u89c4\u683c\uff0c\u6700\u591a\u6dfb\u52a03\u4e2a\u89c4\u683c"}),h("goods_sku_group",{rules:[]})(E.default.createElement(T,Object.assign({},this.props,{goods:this.props.goods,editData:a?a.attrs:[],maxGroup:3,onChange:function(t){e.handleGoodsSku(t)}})))),this.state.sku_group.length>0?E.default.createElement("div",null,E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u89c4\u683c\u660e\u7ec6"}),E.default.createElement(C.default,{sku_group:this.state.sku_group,sku_title_data:s,goods_skus:c,form:p}))):null,E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u4ef7\u683c",required:!0}),h("price",{rules:[{required:this.state.sku_group.length<=0,message:"\u8bf7\u8f93\u5165\u4ef7\u683c"}]})(E.default.createElement(W,{style:{maxWidth:130},addonBefore:"\uffe5",disabled:this.state.sku_group.length>0}))),E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u6210\u672c\u4ef7",extra:"\u6210\u672c\u4ef7\u672a\u6765\u4f1a\u7528\u4e8e\u8425\u9500\u5efa\u8bae\uff0c\u5229\u6da6\u5206\u6790\u7b49"}),h("cost_price",{rules:[]})(E.default.createElement(W,{style:{maxWidth:130},addonBefore:"\uffe5",disabled:this.state.sku_group.length>0}))),E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u5212\u7ebf\u4ef7",extra:E.default.createElement(_.default,null)}),h("line_price",{rules:[]})(E.default.createElement(W,{style:{maxWidth:130},addonBefore:"\uffe5"}))),E.default.createElement(u.default.Item,Object.assign({},G,{label:"\u5e93\u5b58",required:!0}),h("stock_num",{rules:[{required:this.state.sku_group.length<=0,message:"\u8bf7\u8f93\u5165\u5e93\u5b58"}]})(E.default.createElement(W,{style:{maxWidth:130},disabled:this.state.sku_group.length>0}))),E.default.createElement(z,{title:"\u5176\u4ed6\u4fe1\u606f"}),h("id",{initialValue:a?a.id:0,rules:[{type:"number"}]})(E.default.createElement("span",null)),E.default.createElement(b.default,{extra:"extra information"},E.default.createElement(r.default,{icon:"save",type:(Object.values(v()).filter(function(e){return e}).length,"primary"),htmlType:"submit",loading:m},"\u4fdd\u5b58\uff0c\u5e76\u4e0b\u4e00\u6b65")))),E.default.createElement(w.default,null)):E.default.createElement(o.default,{bodyStyle:{padding:20}},E.default.createElement(O.default,{align:"center",justify:"center",style:{height:600,background:"#ffffff"}},E.default.createElement(n.default,{tip:"\u6b63\u5728\u52a0\u8f7d\u4ea7\u54c1\u6570\u636e"}))))}}]),t}(E.default.Component);V=P([(0,y.connect)(function(e){return{goods:e.goods,form_saveing:e.loading.effects["goods/saveGoods"]}})],V);var G={labelCol:{span:2},wrapperCol:{span:22}},z=function(e){var t=e.title;return E.default.createElement("div",{className:B.formTitle},t)},J=u.default.create()(V);t.default=J},"9TTU":function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Q9mQ");var r=n(a("diRs"));a("P2fV");var u=n(a("NJEC"));a("Pwec");var d=n(a("CtXQ"));a("IzEo");var i=n(a("bx4M")),o=n(a("lwsE")),s=n(a("W8MJ")),c=n(a("a1gu")),f=n(a("Nsbk")),m=n(a("7W2i")),p=l(a("q1tI")),g=a("D0L7"),h=function(e){function t(){var e;return(0,o.default)(this,t),e=(0,c.default)(this,(0,f.default)(t).apply(this,arguments)),e.onDel=function(){var t=e.props,a=t.dispatch,l=t.item;a({type:"media/delMedia",payload:{ids:[l.id],type:l.media_type}})},e}return(0,m.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this.props,t=e.imageSize,a=e.item,l=e.onItemClick,n=e.children;return p.default.createElement(i.default,{className:g.media_item,bodyStyle:{padding:0},cover:p.default.createElement("a",{onClick:function(){l(a)}},p.default.createElement("div",{className:g.image_item,style:{width:"100%",height:t,overflow:"hidden",backgroundImage:"url(".concat(a.image_url,")")}})),actions:[p.default.createElement(d.default,{key:"setting",type:"setting"}),p.default.createElement(u.default,{title:"\u786e\u5b9a\u8981\u5220\u9664\u6b64\u56fe\u7247\u5417\uff1f",onConfirm:this.onDel},p.default.createElement(d.default,{key:"del",type:"close-circle"})),p.default.createElement(r.default,{title:a.name,content:p.default.createElement("div",null,p.default.createElement("div",null,"\u5206\u8fa8\u7387\uff1a",a.width," x ",a.height),p.default.createElement("div",null,"\u5927\u5c0f\uff1a",a.size))},p.default.createElement(d.default,{key:"info",type:"info-circle"}))]},n)}}]),t}(p.PureComponent),v=h;t.default=v},D0L7:function(e,t,a){e.exports={media_list:"antd-pro-components-media-styles-media_list",page_view:"antd-pro-components-media-styles-page_view",image_item:"antd-pro-components-media-styles-image_item",media_item:"antd-pro-components-media-styles-media_item",item_check:"antd-pro-components-media-styles-item_check",attachment_selected:"antd-pro-components-media-styles-attachment_selected",selected_index:"antd-pro-components-media-styles-selected_index"}},DOM4:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getBreadcrumb=void 0,a("sPJy");var r=n(a("bE4q")),u=n(a("lSNA")),d=n(a("lwsE")),i=n(a("W8MJ")),o=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("7W2i")),f=l(a("q1tI")),m=n(a("bALw")),p=n(a("tbSg")),g=a("S/9j"),h=function(e,t){var a=e[t];return a||Object.keys(e).forEach(function(l){(0,m.default)(l).test(t)&&(a=e[l])}),a||{}};t.getBreadcrumb=h;var v=function(e){function t(){var e,a;(0,d.default)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(n))),a.state={breadcrumb:null},a.getBreadcrumbDom=function(){var e=a.conversionBreadcrumbList();a.setState({breadcrumb:e})},a.getBreadcrumbProps=function(){var e=a.props,t=e.routes,l=e.params,n=e.location,r=e.breadcrumbNameMap;return{routes:t,params:l,routerLocation:n,breadcrumbNameMap:r}},a.conversionFromProps=function(){var e=a.props,t=e.breadcrumbList,l=e.breadcrumbSeparator,n=e.itemRender,d=e.linkElement,i=void 0===d?"a":d;return f.default.createElement(r.default,{className:p.default.breadcrumb,separator:l},t.map(function(e){var t=n?n(e):e.title;return f.default.createElement(r.default.Item,{key:e.title},e.href?(0,f.createElement)(i,(0,u.default)({},"a"===i?"href":"to",e.href),t):t)}))},a.conversionFromLocation=function(e,t){var l=a.props,n=l.breadcrumbSeparator,d=l.home,i=l.itemRender,o=l.linkElement,s=void 0===o?"a":o,c=(0,g.urlToList)(e.pathname),m=c.map(function(e,a){var l=h(t,e);if(l.inherited)return null;var n=a!==c.length-1&&l.component,d=i?i(l):l.name;return l.name&&!l.hideInBreadcrumb?f.default.createElement(r.default.Item,{key:e},(0,f.createElement)(n?s:"span",(0,u.default)({},"a"===s?"href":"to",e),d)):null});return m.unshift(f.default.createElement(r.default.Item,{key:"home"},(0,f.createElement)(s,(0,u.default)({},"a"===s?"href":"to","/"),d||"Home"))),f.default.createElement(r.default,{className:p.default.breadcrumb,separator:n},m)},a.conversionBreadcrumbList=function(){var e=a.props,t=e.breadcrumbList,l=e.breadcrumbSeparator,n=a.getBreadcrumbProps(),u=n.routes,d=n.params,i=n.routerLocation,o=n.breadcrumbNameMap;return t&&t.length?a.conversionFromProps():u&&d?f.default.createElement(r.default,{className:p.default.breadcrumb,routes:u.filter(function(e){return e.breadcrumbName}),params:d,itemRender:a.itemRender,separator:l}):i&&i.pathname?a.conversionFromLocation(i,o):null},a.itemRender=function(e,t,l,n){var r=a.props.linkElement,u=void 0===r?"a":r,d=l.indexOf(e)===l.length-1;return d||!e.component?f.default.createElement("span",null,e.breadcrumbName):(0,f.createElement)(u,{href:n.join("/")||"/",to:n.join("/")||"/"},e.breadcrumbName)},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){this.getBreadcrumbDom()}},{key:"componentDidUpdate",value:function(e){var t=this.props.location;if(t&&e.location){var a=e.location.pathname;a!==t.pathname&&this.getBreadcrumbDom()}}},{key:"render",value:function(){var e=this.state.breadcrumb;return e}}]),t}(f.PureComponent);t.default=v},Dnn4:function(e,t,a){e.exports={content:"antd-pro-components-page-header-wrapper-index-content"}},JDLn:function(e,t,a){e.exports={toolbar:"antd-pro-components-footer-toolbar-index-toolbar",left:"antd-pro-components-footer-toolbar-index-left",right:"antd-pro-components-footer-toolbar-index-right"}},LG6a:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("a1gu")),i=n(a("Nsbk")),o=n(a("7W2i")),s=l(a("q1tI")),c=n(a("k1M9")),f=l(a("LvDl")),m=n(a("YXmL")),p=a("0zu5"),g=function(e){function t(){var e;return(0,r.default)(this,t),e=(0,d.default)(this,(0,i.default)(t).apply(this,arguments)),e.state={images:[]},e.onAddImageViewClick=function(){var t=e.state.images;e.props.dispatch({type:"media/show",payload:{max:10-t.length,selected:t,callBack:function(a){var l=f.cloneDeep(t);a.map(function(e){l.push(e)}),e.onChangeImages(l)}}})},e.onChangeImages=function(t){e.setState({images:t}),e.props.onChange(t)},e.onSortEnd=function(t){var a=t.oldIndex,l=t.newIndex,n=(0,p.arrayMove)(e.state.images,a,l);e.onChangeImages(n)},e}return(0,o.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.props.medias.length>0&&this.onChangeImages(this.props.medias)}},{key:"shouldComponentUpdate",value:function(e,t,a){return t.images!==this.state.images}},{key:"render",value:function(){var e=this;console.log("EditGoodsImageList");var t=this.state.images,a=this.props.max,l=(0,p.SortableElement)(function(t){var a=t.value;return s.default.createElement(m.default,{width:94,height:94,item:a,border:!0,className:"mr-10 mb-10",showDelBtn:!0,onDel:function(t){var a=f.cloneDeep(e.state.images),l=a.filter(function(e){return e.id!==t.id});e.onChangeImages(l)}})}),n=(0,p.SortableContainer)(function(n){var r=n.items;return s.default.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.map(function(e,t){return s.default.createElement(l,{key:"item-".concat(t),index:t,value:e})}),t.length<a?s.default.createElement("div",{onClick:e.onAddImageViewClick,style:{display:"inline-block"}},s.default.createElement(c.default,{width:100,height:100,border:!0})):null)});return s.default.createElement(n,{items:t,axis:"x",onSortEnd:this.onSortEnd,distance:1})}}]),t}(s.Component),h=g;t.default=h},LIIa:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("cWXX");var r=n(a("/ezw")),u=n(a("pVnL")),d=n(a("lwsE")),i=n(a("W8MJ")),o=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("7W2i"));a("Znn+");var f=n(a("ZTPi")),m=l(a("q1tI")),p=n(a("TSYQ")),g=n(a("tbSg")),h=n(a("DOM4")),v=f.default.TabPane,E=function(e){function t(){var e,a;(0,d.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(n))),a.onChange=function(e){var t=a.props.onTabChange;t&&t(e)},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.logo,l=e.action,n=e.content,d=e.extraContent,i=e.tabList,o=e.className,s=e.tabActiveKey,c=e.tabDefaultActiveKey,E=e.tabBarExtraContent,y=e.loading,k=void 0!==y&&y,_=e.wide,b=void 0!==_&&_,w=e.hiddenBreadcrumb,x=void 0!==w&&w,N=(0,p.default)(g.default.pageHeader,o),C={};return void 0!==c&&(C.defaultActiveKey=c),void 0!==s&&(C.activeKey=s),m.default.createElement("div",{className:N},m.default.createElement("div",{className:b?g.default.wide:""},m.default.createElement(r.default,{loading:k,title:!1,active:!0,paragraph:{rows:3},avatar:{size:"large",shape:"circle"}},x?null:m.default.createElement(h.default,this.props),m.default.createElement("div",{className:g.default.detail},a&&m.default.createElement("div",{className:g.default.logo},a),m.default.createElement("div",{className:g.default.main},m.default.createElement("div",{className:g.default.row},t&&m.default.createElement("h1",{className:g.default.title},t),l&&m.default.createElement("div",{className:g.default.action},l)),m.default.createElement("div",{className:g.default.row},n&&m.default.createElement("div",{className:g.default.content},n),d&&m.default.createElement("div",{className:g.default.extraContent},d)))),i&&i.length?m.default.createElement(f.default,(0,u.default)({className:g.default.tabs},C,{onChange:this.onChange,tabBarExtraContent:E}),i.map(function(e){return m.default.createElement(v,{tab:e.tab,key:e.key})})):null)))}}]),t}(m.PureComponent);t.default=E},MaiO:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("q1tI"));function r(e){var t=e.className,a=e.align,l=e.justify,r=e.direction,u=e.style;return n.default.createElement("div",{className:"flex-view ".concat(t||""),style:Object.assign({alignItems:a||"stretch",justifyContent:l||"flex-start",flexDirection:r||"row"},u)},e.children)}var u=r;t.default=u},R1Dz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a("q1tI"),n=(0,l.createContext)();t.default=n},"S/9j":function(e,t,a){"use strict";function l(e){var t=e.split("/").filter(function(e){return e});return t.map(function(e,a){return"/".concat(t.slice(0,a+1).join("/"))})}Object.defineProperty(t,"__esModule",{value:!0}),t.urlToList=l},V5VE:function(e,t,a){e.exports={image_view:"antd-pro-components-widget-styles-selected-image-view-image_view",del_btn:"antd-pro-components-widget-styles-selected-image-view-del_btn",image_item:"antd-pro-components-widget-styles-selected-image-view-image_item"}},WnAZ:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("pVnL")),u=n(a("QILm")),d=n(a("lwsE")),i=n(a("W8MJ")),o=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("7W2i")),f=l(a("q1tI")),m=n(a("17x9")),p=n(a("TSYQ")),g=n(a("JDLn")),h=function(e){function t(){var e,a;(0,d.default)(this,t);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return a=(0,o.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(n))),a.state={width:void 0},a.resizeFooterToolbar=function(){var e=document.querySelector(".ant-layout-sider");if(null!=e){var t=a.context.isMobile,l=t?null:"calc(100% - ".concat(e.style.width,")"),n=a.state.width;n!==l&&a.setState({width:l})}},a}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeFooterToolbar),this.resizeFooterToolbar()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resizeFooterToolbar)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,l=e.extra,n=(0,u.default)(e,["children","className","extra"]),d=this.state.width;return f.default.createElement("div",(0,r.default)({className:(0,p.default)(a,g.default.toolbar),style:{width:d}},n),f.default.createElement("div",{className:g.default.left},l),f.default.createElement("div",{className:g.default.right},t))}}]),t}(f.Component);t.default=h,h.contextTypes={isMobile:m.default.bool}},XQBP:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Mwp2");var r=n(a("VXEj"));a("DjyN");var u=n(a("NUBc"));a("2qtc");var d=n(a("kLXV"));a("Pwec");var i=n(a("CtXQ"));a("+L6B");var o=n(a("2/Rp"));a("miYZ");var s=n(a("tsqr"));a("DZo9");var c=n(a("8z0m"));a("jCWc");var f=n(a("kPKH"));a("14J3");var m=n(a("BMrR")),p=n(a("lwsE")),g=n(a("W8MJ")),h=n(a("a1gu")),v=n(a("Nsbk")),E=n(a("7W2i")),y=l(a("q1tI")),k=a("MuoO"),_=l(a("LvDl")),b=n(a("QHHx")),w=n(a("9TTU")),x=function(e,t,a,l){var n,r=arguments.length,u=r<3?t:null===l?l=Object.getOwnPropertyDescriptor(t,a):l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)u=Reflect.decorate(e,t,a,l);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(u=(r<3?n(u):r>3?n(t,a,u):n(t,a))||u);return r>3&&u&&Object.defineProperty(t,a,u),u},N=a("D0L7"),C=function(e){function t(){var e;return(0,p.default)(this,t),e=(0,h.default)(this,(0,v.default)(t).apply(this,arguments)),e.state={selected:[]},e.onHide=function(){e.props.dispatch({type:"media/hide",payload:{}}),e.setState({selected:[],selectedInit:!1})},e.onOk=function(){e.props.media.callBack(e.state.selected),e.onHide()},e.onItemClick=function(t){var a=_.clone(e.state.selected),l=e.props.media.max,n=_.filter(a,function(e){return e.id===t.id});1===l?n.length>0?_.pullAll(a,n):a=[t]:l>1&&(n.length>0?_.pullAll(a,n):a.push(t)),a.length>l||e.setState({selected:a})},e}return(0,E.default)(t,e),(0,g.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.media,l=a.visible,n=a.list,p=a.max,g=a.meta,h=a.query,v=t.loading,E=t.dispatch,k=t.global,x=this.state.selected,C=function(){return y.default.createElement(m.default,{type:"flex",justify:"space-between",align:"middle"},y.default.createElement(f.default,null,y.default.createElement("span",null,"\u53ef\u9009\u62e9\uff1a",p-e.state.selected.length," ")),y.default.createElement(f.default,null,y.default.createElement(c.default,{action:b.default.host+"mediaUpload",data:{mc_id:h.mc_id||1,type:h.type||"image"},headers:{"X-CSRF-TOKEN":k.store.token},multiple:!0,showUploadList:!1,onChange:function(e){var t=e.file.status;if("uploading"===t);else if("done"===t)if(1===g.current_page){var a=_.clone(n),l=_.clone(g),r=e.file.response.data;a.unshift(r),E({type:"media/setList",payload:{data:{data:a,meta:l}}})}else E({type:"media/pageChange",payload:{page:1}});else"error"===t&&s.default.error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25"))}},y.default.createElement(o.default,{type:"primary"},"\u4e0a\u4f20\u56fe\u7247"))))},O=function(t){var a=t.item,l=e.props.media.max,n=_.indexOf(e.state.selected,a);return n>-1?y.default.createElement("a",{className:N.attachment_selected,onClick:function(){e.onItemClick(a)}},l>1?y.default.createElement("i",{className:N.selected_index},n+1):y.default.createElement("span",{className:N.selected_index},y.default.createElement(i.default,{type:"check",style:{color:"#fff"}}))):null},M=function(t){var a=t.item;return y.default.createElement(w.default,Object.assign({item:a,imageSize:I,onItemClick:e.onItemClick},e.props),y.default.createElement(O,{item:a}))},q=3*(I+34)+32;return y.default.createElement(d.default,{title:y.default.createElement(C,null),visible:l,width:S.width,closable:!1,centered:!0,maskClosable:!1,wrapClassName:"media-dialog",bodyStyle:{padding:S.padding},onCancel:this.onHide,onOk:this.onOk,footer:y.default.createElement("div",{className:"f-c-s"},y.default.createElement("div",null,g.total?y.default.createElement(u.default,{hideOnSinglePage:!0,current:g.current_page,total:g.total,pageSize:g.per_page,onChange:function(e){E({type:"media/pageChange",payload:{page:e}})}}):null),y.default.createElement("div",null,y.default.createElement(o.default,{onClick:this.onHide},"\u53d6\u6d88"),y.default.createElement(o.default,{disabled:x.length<=0,onClick:this.onOk,type:"primary"},"\u786e\u5b9a")))},y.default.createElement("div",{className:N.media_list,style:{height:q}},y.default.createElement(r.default,{loading:v,grid:{gutter:S.gutter,column:S.column},dataSource:n,renderItem:function(e){return y.default.createElement(r.default.Item,null,y.default.createElement(M,{item:e}))}})))}}]),t}(y.Component);C=x([(0,k.connect)(function(e){var t=e.media,a=e.loading,l=e.global;return{media:t,global:l,loading:a.effects["media/getList"]}})],C);var S={width:1200,padding:16,gutter:16,column:6},I=(S.width-2*S.padding-S.gutter*(S.column-1)-2*S.column)/S.column,O=C;t.default=O},YXmL:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var r=n(a("CtXQ")),u=n(a("lwsE")),d=n(a("W8MJ")),i=n(a("a1gu")),o=n(a("Nsbk")),s=n(a("7W2i")),c=l(a("q1tI")),f=a("V5VE"),m=function(e){function t(){return(0,u.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,d.default)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return e.item.id!==this.props.item.id}},{key:"render",value:function(){console.log("SelectedImageView");var e=this.props,t=e.width,a=e.height,l=e.border,n=e.item,u=e.className,d=e.showDelBtn,i=e.onDel;return c.default.createElement("div",{className:"add-image-view ".concat(u," ")+f.image_view,style:{border:l?"1px solid #d9d9d9":null}},c.default.createElement("div",{className:f.image_item,style:{width:t,height:a,overflow:"hidden",backgroundImage:"url(".concat(n.image_url,")")}}),d?c.default.createElement("a",{title:"\u5220\u9664",className:f.del_btn,onClick:function(){i(n)}},c.default.createElement(r.default,{type:"close-circle",theme:"twoTone",style:{fontSize:15}})):null)}}]),t}(c.Component),p=m;t.default=p},aokR:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Q9mQ");var n=l(a("diRs")),r=l(a("q1tI")),u=r.default.createElement("div",{style:{width:250}},r.default.createElement("p",null,"\u5c06\u5546\u54c1\u5728\u5fae\u4fe1\u5206\u4eab\u7ed9\u670b\u53cb\u65f6\uff0c\u8be5\u5904\u586b\u5199\u7684\u5185\u5bb9\u4f1a\u5c55\u793a\u5728\u5546\u54c1\u540d\u79f0\u4e0b\u9762"),r.default.createElement("img",{style:{width:"100%"},src:"https://img.yzcdn.cn/public_files/2018/04/04/249513f376732ac3d353adcc16a5da5d.png"})),d=function(){return r.default.createElement("div",null,r.default.createElement("span",null,"\u5206\u4eab\u7ed9\u597d\u53cb\u65f6\u4f1a\u663e\u793a\uff0c\u5efa\u8bae36\u4e2a\u5b57\u4ee5\u5185\u3002"),r.default.createElement(n.default,{content:u,trigger:"click",placement:"bottom"},r.default.createElement("a",null,"\u67e5\u770b\u793a\u4f8b")))};t.default=d},iPnB:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("OaEy");var r=n(a("2fM7")),u=n(a("lwsE")),d=n(a("W8MJ")),i=n(a("a1gu")),o=n(a("Nsbk")),s=n(a("7W2i")),c=l(a("q1tI")),f=function(e){function t(){var e;return(0,u.default)(this,t),e=(0,i.default)(this,(0,o.default)(t).apply(this,arguments)),e.state={defaultOpen:!0,newName:""},e.onDropdownVisibleChange=function(){e.setState({defaultOpen:!1})},e.onCreate=function(){e.props.onCreate(e.state.newName)},e}return(0,s.default)(t,e),(0,d.default)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return!0}},{key:"render",value:function(){var e=this,t=this.state,a=t.defaultOpen,l=t.newName,n=this.props.value;return c.default.createElement(r.default,Object.assign({},this.props,{dropdownMatchSelectWidth:!1,defaultOpen:a&&!n,onDropdownVisibleChange:this.onDropdownVisibleChange,autoFocus:!0,notFoundContent:l?c.default.createElement("div",null,c.default.createElement("a",{onClick:this.onCreate},"\u70b9\u51fb\u521b\u5efa"),"\uff1a",l," "):"\u6682\u65e0\u89c4\u683c\uff0c\u8bf7\u8f93\u5165\u521b\u5efa",showSearch:!0,filterOption:function(e,t){return t.props.children.toString().toLowerCase().indexOf(e.toLowerCase())>=0},onSearch:function(t){e.setState({newName:t})}}),this.props.children)}}]),t}(c.Component),m=f;t.default=m},k1M9:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("Pwec");var r=n(a("CtXQ")),u=n(a("lwsE")),d=n(a("W8MJ")),i=n(a("a1gu")),o=n(a("Nsbk")),s=n(a("7W2i")),c=l(a("q1tI")),f=function(e){function t(){return(0,u.default)(this,t),(0,i.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,l=e.border;return c.default.createElement("a",{className:"add-image-view",style:{width:t+"px",height:a+"px",border:l?"1px solid #d9d9d9":null}},c.default.createElement("span",null,c.default.createElement(r.default,{type:"plus-circle"})," \u6dfb\u52a0\u56fe\u7247"))}}]),t}(c.PureComponent),m=f;t.default=m},kFMi:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=n(a("2/Rp"));a("Pwec");var u=n(a("CtXQ"));a("sRBo");var d=n(a("kaz8"));a("5Dmo");var i=n(a("3S7+"));a("OaEy");var o=n(a("2fM7")),s=n(a("o0o1")),c=n(a("lwsE")),f=n(a("W8MJ")),m=n(a("a1gu")),p=n(a("Nsbk")),g=n(a("7W2i")),h=l(a("q1tI")),v=n(a("iPnB")),E=l(a("LvDl")),y=n(a("k1M9")),k=n(a("YXmL")),_=a("B9rN"),b=function(e,t,a,l){return new(a||(a=Promise))(function(n,r){function u(e){try{i(l.next(e))}catch(e){r(e)}}function d(e){try{i(l["throw"](e))}catch(e){r(e)}}function i(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(u,d)}i((l=l.apply(e,t||[])).next())})},w=a("qnN+"),x=function(e){function t(){var e;return(0,c.default)(this,t),e=(0,m.default)(this,(0,p.default)(t).apply(this,arguments)),e.state={addSkuValueImage:!1},e.changeSkuGroup=function(t){e.props.changeSkuGroup(t)},e}return(0,g.default)(t,e),(0,f.default)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return e.sku_group!==this.props.sku_group}},{key:"render",value:function(){var e=this;console.log("SkuGroupEdit");var t=this.props,a=t.sku_group,l=t.goods,n=t.SkuItem,c=t.dispatch;return h.default.createElement("div",null,a.map(function(t,f){return h.default.createElement("div",{key:f},h.default.createElement("div",{className:w.sku_group_title},h.default.createElement("span",null,"\u89c4\u683c\u540d\uff1a"),h.default.createElement("div",{className:"f-c",style:{flex:1}},h.default.createElement(v.default,{style:{width:150},value:t.id,onSelect:function(t,l){var r=E.clone(a);r[f].id=t,r[f].name=l.key,r[f].sku_list=[E.clone(n)],e.changeSkuGroup(r)},onCreate:function(t){return b(e,void 0,void 0,s.default.mark(function e(){var l,r;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,_.createGoodsAttr)({name:t});case 2:l=e.sent,200===l.code&&(c({type:"goods/setState",payload:{skus:l.data.attr_list}}),r=E.clone(a),r[f].id=l.data.attr.id,r[f].name=l.data.attr.name,r[f].sku_list=[E.clone(n)],this.changeSkuGroup(r));case 4:case"end":return e.stop()}},e,this)}))}},l.skus.map(function(e,t){var l=E.filter(a,function(t){return t.id===e.id}).length>0;return h.default.createElement(o.default.Option,{disabled:l,value:e.id,key:e.name},e.name)})),0===f?h.default.createElement("div",{className:"f-c-c font-12 ml-10"},h.default.createElement(i.default,{title:N.add_image},h.default.createElement(d.default,{checked:e.state.addSkuValueImage||a[0].is_image,onChange:function(t){var l=E.clone(a);l[f].is_image=t.target.checked,e.changeSkuGroup(l),e.setState({addSkuValueImage:t.target.checked})}},h.default.createElement("a",null,"\u6dfb\u52a0\u89c4\u683c\u56fe\u7247")))):null),h.default.createElement(i.default,{title:"\u5220\u9664\u89c4\u683c\u7ec4"},h.default.createElement("a",{style:{lineHeight:1},onClick:function(){var t=E.clone(a);E.pull(t,t[f]),e.changeSkuGroup(t)}},h.default.createElement(u.default,{type:"close-circle",style:{fontSize:16}})))),h.default.createElement("div",{className:w.sku_group_container},h.default.createElement("span",{style:{flexShrink:0,lineHeight:"30px"}},"\u89c4\u683c\u503c\uff1a"),t.id?h.default.createElement("div",{className:"flex",style:{flexWrap:"wrap",flex:1}},t.sku_list.map(function(n,r){var d=E.first(E.filter(l.skus,function(e){return e.id===t.id}));return h.default.createElement("div",{key:r,className:"mr-10 mb-10 "+w.sku_values_item},h.default.createElement(v.default,{style:{width:150},value:n.id,onSelect:function(t,l){var n=E.clone(a);n[f].sku_list[r].id=t,n[f].sku_list[r].name=l.key,e.changeSkuGroup(n)},onCreate:function(t){return b(e,void 0,void 0,s.default.mark(function e(){var l,n;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return l=E.clone(a),e.next=3,(0,_.createGoodsAttrValue)({attr_id:l[f].id,name:t});case 3:n=e.sent,200===n.code&&(c({type:"goods/setState",payload:{skus:n.data.attr_list}}),l[f].sku_list[r].id=n.data.attr_value.id,l[f].sku_list[r].name=n.data.attr_value.name,this.changeSkuGroup(l));case 5:case"end":return e.stop()}},e,this)}))}},d?d.values.map(function(e,t){var l=E.filter(a[f].sku_list,function(t){return t.id===e.id}).length>0;return h.default.createElement(o.default.Option,{disabled:l,value:e.id,key:e.name},e.name)}):null),h.default.createElement(i.default,{title:"\u5220\u9664\u6b64\u89c4\u683c\u503c"},h.default.createElement("a",{className:w.sku_values_item_del_btn,onClick:function(){var t=E.clone(a);t[f].sku_list=E.pull(t[f].sku_list,t[f].sku_list[r]),e.changeSkuGroup(t)}},h.default.createElement(u.default,{type:"close-circle",theme:"twoTone",style:{fontSize:15}}))),0===f&&(e.state.addSkuValueImage||a[0].is_image)?h.default.createElement("div",{className:"mt-10"},h.default.createElement("div",{className:"f-c "+w.sku_image},h.default.createElement("div",{className:w.arrow}),h.default.createElement("div",{onClick:function(){e.props.dispatch({type:"media/show",payload:{max:1,callBack:function(t){var l=E.clone(a);l[f].sku_list[r].image=t[0],e.changeSkuGroup(l)}}})},style:{border:"1px solid #d9d9d9"}},n.image?h.default.createElement(k.default,{width:100,height:100,item:n.image,border:!1}):h.default.createElement(y.default,{width:100,height:100,border:!1})))):null)}),h.default.createElement(r.default,{className:"mb-10",style:{flexShrink:0},disabled:a[f].sku_list.length>=40,onClick:function(){var t=E.clone(a);t[f].sku_list.push(E.clone(n)),e.changeSkuGroup(t)}},h.default.createElement(u.default,{type:"plus"}),"\u6dfb\u52a0\u89c4\u683c\u503c")):null))}))}}]),t}(h.Component),N={add_image:"\u4ec5\u652f\u6301\u4e3a\u7b2c\u4e00\u7ec4\u89c4\u683c\u8bbe\u7f6e\u89c4\u683c\u56fe\u7247\uff0c\u4e70\u5bb6\u9009\u62e9\u4e0d\u540c\u89c4\u683c\u4f1a\u770b\u5230\u5bf9\u5e94\u89c4\u683c\u56fe\u7247\uff0c\u5efa\u8bae\u5c3a\u5bf8\uff1a800 x 800\u50cf\u7d20"},C=x;t.default=C},"lh+i":function(e,t,a){e.exports={main:"antd-pro-components-page-header-wrapper-grid-content-main",wide:"antd-pro-components-page-header-wrapper-grid-content-wide"}},"qnN+":function(e,t,a){e.exports={sku_group_title:"antd-pro-pages-goods-widget-styles-sku_group_title",sku_group_container:"antd-pro-pages-goods-widget-styles-sku_group_container",sku_values_item:"antd-pro-pages-goods-widget-styles-sku_values_item",sku_values_item_del_btn:"antd-pro-pages-goods-widget-styles-sku_values_item_del_btn",sku_values_item_edit_btn:"antd-pro-pages-goods-widget-styles-sku_values_item_edit_btn",sku_image:"antd-pro-pages-goods-widget-styles-sku_image",arrow:"antd-pro-pages-goods-widget-styles-arrow","ant-table-middle":"antd-pro-pages-goods-widget-styles-ant-table-middle","ant-table-content":"antd-pro-pages-goods-widget-styles-ant-table-content","ant-table-body":"antd-pro-pages-goods-widget-styles-ant-table-body","ant-table-tbody":"antd-pro-pages-goods-widget-styles-ant-table-tbody"}},sVJB:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=n(a("2/Rp"));a("IzEo");var u=n(a("bx4M")),d=n(a("lwsE")),i=n(a("W8MJ")),o=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("7W2i")),f=l(a("q1tI")),m=l(a("LvDl")),p=n(a("kFMi")),g=a("qnN+"),h=function(e){function t(){var e;return(0,d.default)(this,t),e=(0,o.default)(this,(0,s.default)(t).apply(this,arguments)),e.state={sku_group:[]},e.initEditData=function(t){var a=t.map(function(e){return{id:e.attr_id,name:e.name,alias:e.alias,is_image:e.is_image,defaultOpen:!1,sku_list:e.values.map(function(e){return{id:e.attr_value_id,name:e.name,alias:e.alias,image:e.media,defaultOpen:!1}})}});e.changeSkuGroup(a)},e.addGroupItem=function(){var t=m.cloneDeep(e.state.sku_group);t.push(m.cloneDeep(E)),e.changeSkuGroup(t)},e.changeSkuGroup=function(t){e.setState({sku_group:t});var a=m.cloneDeep(t);a=a.map(function(e){return e.sku_list=e.sku_list.filter(function(e){return e.id>0}),e}).filter(function(e){return e.id>0&&e.sku_list.length>0}),e.props.onChange(a)},e}return(0,c.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.editData;e&&e.length>0&&this.initEditData(this.props.editData)}},{key:"shouldComponentUpdate",value:function(e,t,a){return t.sku_group!==this.state.sku_group}},{key:"render",value:function(){var e=this.state.sku_group,t=this.props,a=t.goods,l=t.maxGroup;return console.log("EditGoodsSku"),f.default.createElement(u.default,{bodyStyle:{padding:0}},f.default.createElement(p.default,Object.assign({},this.props,{sku_group:e,goods:a,SkuItem:v,changeSkuGroup:this.changeSkuGroup})),f.default.createElement("div",{className:g.sku_group_title},f.default.createElement(r.default,{disabled:e.length>=l,type:"primary",onClick:this.addGroupItem},"\u6dfb\u52a0\u5546\u54c1\u89c4\u683c"),e.length>5?f.default.createElement("a",{className:"ml-10"},"\u81ea\u5b9a\u4e49\u6392\u5e8f"):null))}}]),t}(f.Component),v={id:null,name:"",alias:"",image:null,defaultOpen:!0},E={id:null,name:"",alias:"",is_image:!1,defaultOpen:!0,sku_list:[m.clone(v)]},y=h;t.default=y},sw4P:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sRBo");var r=n(a("kaz8"));a("y8nQ");var u=n(a("Vl3Y"));a("Telt");var d=n(a("Tckk"));a("Pwec");var i=n(a("CtXQ"));a("5Dmo");var o=n(a("3S7+"));a("IzEo");var s=n(a("bx4M"));a("miYZ");var c=n(a("tsqr")),f=n(a("lwsE")),m=n(a("W8MJ")),p=n(a("a1gu")),g=n(a("Nsbk")),h=n(a("7W2i"));a("giR+");var v=n(a("fyUT"));a("5NDa");var E=n(a("5rEg")),y=l(a("q1tI")),k=n(a("jr5w")),_=n(a("MaiO")),b=n(a("LvDl")),w=(0,k.default)(250)(E.default),x=(0,k.default)(250)(v.default),N=a("qnN+"),C=function(e){function t(){var e;return(0,f.default)(this,t),e=(0,p.default)(this,(0,g.default)(t).apply(this,arguments)),e.state={vs_price:0,vs_stock:0,vs_cost_price:0,vs_code:"",is_cover:!1},e.volumeSet=function(t,a){var l,n=e.state,r=n.vs_stock,u=n.vs_price,d=n.vs_cost_price,i=n.vs_code,o=n.is_cover,s=e.props.form,f=s.setFieldsValue,m=s.getFieldValue;switch(t){case"price":l=u;break;case"stock_num":l=r;break;case"cost_price":l=d;break;case"code":l=i;break}if(l>0){var p=a.map(function(e,a){var l="goods_skus[".concat(e.attr_key,"][").concat(t,"]"),n=m(l);return!!(n<=0||o)&&l}).filter(function(e){return!1!==e}).map(function(e){return[e,l]});console.log(p),f(b.default.fromPairs(p))}else c.default.warning(y.default.createElement("span",null,"\u8bbe\u7f6e\u6570\u503c\u5fc5\u987b\u5927\u4e8e",y.default.createElement("strong",{className:"ml-5"},"0")))},e}return(0,h.default)(t,e),(0,m.default)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return e.sku_group,this.props.sku_group,!0}},{key:"render",value:function(){var e=this,t=this.props,a=t.sku_group,l=t.form.getFieldDecorator,n=t.sku_title_data,c=t.goods_skus;return console.log("GoodsSkuList"),y.default.createElement(s.default,{bodyStyle:{padding:0}},y.default.createElement("div",{className:"ant-table ant-table-middle ant-table-scroll-position-left "+N.goods_skus_table},y.default.createElement("div",{className:"ant-table-content"},y.default.createElement("div",{className:"ant-table-body"},y.default.createElement("table",null,y.default.createElement("colgroup",null,n.map(function(e,t){var a=3===n.length?10:2===n.length?15:30;return y.default.createElement("col",{style:{width:a+"%"},key:t})}),y.default.createElement("col",{style:{width:100}}),y.default.createElement("col",{style:{width:100}}),y.default.createElement("col",{style:{width:150}}),y.default.createElement("col",{style:{width:100}}),y.default.createElement("col",{style:{width:100,textAlign:"right"}}),y.default.createElement("col",null)),y.default.createElement("thead",{className:"ant-table-thead"},y.default.createElement("tr",null,n.map(function(e,t){return y.default.createElement("th",{key:t,className:"th-sku"},y.default.createElement("span",null,e.name))}),y.default.createElement("th",{className:"th-price"},"\u4ef7\u683c\uff08\u5143\uff09"),y.default.createElement("th",{className:"th-stock"},"\u5e93\u5b58"),y.default.createElement("th",{className:"th-code"},"\u89c4\u683c\u7f16\u7801 ",y.default.createElement(o.default,{title:"\u4e3a\u65b9\u4fbf\u7ba1\u7406\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u7f16\u7801\uff0c\u6bd4\u5982\u8d27\u53f7"},y.default.createElement("a",null,y.default.createElement(i.default,{type:"question-circle"})))),y.default.createElement("th",{className:"text-cost-price"},"\u6210\u672c\u4ef7 ",y.default.createElement(o.default,{title:"\u6210\u672c\u4ef7\u672a\u6765\u4f1a\u7528\u4e8e\u8425\u9500\u5efa\u8bae\uff0c\u5229\u6da6\u5206\u6790\u7b49"},y.default.createElement("a",null,y.default.createElement(i.default,{type:"question-circle"})))),y.default.createElement("th",{className:"text-right"},"\u9500\u91cf"))),y.default.createElement("tbody",{className:"ant-table-tbody "+N.goods_sku_tbody},c.map(function(e,t){return y.default.createElement("tr",{key:t,className:"ant-table-row ant-table-row-level-0"},e.attrs.map(function(e,t){return y.default.createElement("td",{key:e.id},y.default.createElement(_.default,{align:"center"},e.image&&a[0].is_image&&0===t?y.default.createElement(d.default,{style:{marginRight:5},shape:"square",src:e.image.image_url,size:20}):null,y.default.createElement("span",null,e.name)))}),y.default.createElement("td",null,y.default.createElement(u.default.Item,null,l("goods_skus[".concat(e.attr_key,"][price]"),{initialValue:e.price,rules:[{required:!0,message:"\u4ef7\u683c\u5fc5\u586b"},{type:"number",message:"\u5fc5\u987b\u662f\u6570\u5b57"}]})(y.default.createElement(x,{min:0,style:{width:100}})))),y.default.createElement("td",null,y.default.createElement(u.default.Item,null,l("goods_skus[".concat(e.attr_key,"][stock_num]"),{initialValue:e.stock_num,rules:[{required:!0,message:"\u5e93\u5b58\u5fc5\u586b"},{type:"number",message:"\u5fc5\u987b\u662f\u6570\u5b57"}]})(y.default.createElement(x,{min:0,style:{width:100}})))),y.default.createElement("td",null,y.default.createElement(u.default.Item,null,l("goods_skus[".concat(e.attr_key,"][code]"),{initialValue:e.code,rules:[{type:"string",message:"\u89c4\u683c\u7f16\u7801\u5fc5\u586b"}]})(y.default.createElement(w,{style:{width:150},allowClear:!0})))),y.default.createElement("td",null,y.default.createElement(u.default.Item,null,l("goods_skus[".concat(e.attr_key,"][cost_price]"),{initialValue:e.cost_price,rules:[{type:"number",message:"\u5fc5\u987b\u662f\u6570\u5b57"}]})(y.default.createElement(x,{min:0,style:{width:100}})))),y.default.createElement("td",null,l("goods_skus[".concat(e.attr_key,"][sold_num]"),{initialValue:e.sold_num,rules:[]})(y.default.createElement("span",null,e.sold_num)),l("goods_skus[".concat(e.attr_key,"][attr_key]"),{initialValue:e.attr_key,rules:[]})(y.default.createElement("span",null)),l("goods_skus[".concat(e.attr_key,"][is_image]"),{initialValue:e.is_image,rules:[]})(y.default.createElement("span",null)),l("goods_skus[".concat(e.attr_key,"][media_id]"),{initialValue:e.media_id,rules:[]})(y.default.createElement("span",null))))})))),y.default.createElement("div",{className:"ant-table-footer p-10 f-c",style:{padding:10}},y.default.createElement("span",null,"\u6279\u91cf\u8bbe\u7f6e\uff1a"),y.default.createElement("div",{className:"mr-10"},y.default.createElement(E.default,{placeholder:"\u4ef7\u683c",style:{width:150},allowClear:!0,onChange:function(t){var a=t.target.value;e.setState({vs_price:b.default.toNumber(a)})},addonAfter:y.default.createElement("a",{onClick:function(){e.volumeSet("price",c)}},"\u8bbe\u7f6e")})),y.default.createElement("div",{className:"mr-10"},y.default.createElement(E.default,{placeholder:"\u5e93\u5b58",style:{width:150},allowClear:!0,onChange:function(t){var a=t.target.value;e.setState({vs_stock:b.default.toNumber(a)})},addonAfter:y.default.createElement("a",{onClick:function(){e.volumeSet("stock_num",c)}},"\u8bbe\u7f6e")})),y.default.createElement("div",{className:"mr-10"},y.default.createElement(E.default,{placeholder:"\u6210\u672c\u4ef7",style:{width:150},allowClear:!0,onChange:function(t){var a=t.target.value;e.setState({vs_cost_price:b.default.toNumber(a)})},addonAfter:y.default.createElement("a",{onClick:function(){e.volumeSet("cost_price",c)}},"\u8bbe\u7f6e")})),y.default.createElement(r.default,{checked:this.state.is_cover,onChange:function(t){e.setState({is_cover:t.target.checked})}},"\u8986\u76d6\u539f\u6709\u503c")))))}}]),t}(y.Component),S=C;t.default=S},tbSg:function(e,t,a){e.exports={pageHeader:"antd-pro-components-page-header-index-pageHeader",wide:"antd-pro-components-page-header-index-wide",detail:"antd-pro-components-page-header-index-detail",row:"antd-pro-components-page-header-index-row",breadcrumb:"antd-pro-components-page-header-index-breadcrumb",tabs:"antd-pro-components-page-header-index-tabs",logo:"antd-pro-components-page-header-index-logo",title:"antd-pro-components-page-header-index-title",action:"antd-pro-components-page-header-index-action",content:"antd-pro-components-page-header-index-content",extraContent:"antd-pro-components-page-header-index-extraContent",main:"antd-pro-components-page-header-index-main"}},v99g:function(e,t,a){"use strict";var l=a("284h"),n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lwsE")),u=n(a("W8MJ")),d=n(a("a1gu")),i=n(a("Nsbk")),o=n(a("7W2i")),s=l(a("q1tI")),c=a("MuoO"),f=n(a("lh+i")),m=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,i.default)(t).apply(this,arguments))}return(0,o.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.contentWidth,a=e.children,l="".concat(f.default.main);return"Fixed"===t&&(l="".concat(f.default.main," ").concat(f.default.wide)),s.default.createElement("div",{className:l},a)}}]),t}(s.PureComponent),p=(0,c.connect)(function(e){var t=e.setting;return{contentWidth:t.contentWidth}})(m);t.default=p},zHco:function(e,t,a){"use strict";var l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("pVnL")),r=l(a("QILm")),u=l(a("q1tI")),d=a("LLXN"),i=l(a("mOP9")),o=l(a("LIIa")),s=a("MuoO"),c=l(a("v99g")),f=l(a("Dnn4")),m=l(a("R1Dz")),p=function(e){var t=e.children,a=e.contentWidth,l=e.wrapperClassName,s=e.top,p=(0,r.default)(e,["children","contentWidth","wrapperClassName","top"]);return u.default.createElement("div",{style:{margin:"-24px -24px 0"},className:l},s,u.default.createElement(m.default.Consumer,null,function(e){return u.default.createElement(o.default,(0,n.default)({wide:"Fixed"===a,home:u.default.createElement(d.FormattedMessage,{id:"menu.home",defaultMessage:"Home"})},e,{key:"pageheader"},p,{linkElement:i.default,itemRender:function(e){return e.locale?u.default.createElement(d.FormattedMessage,{id:e.locale,defaultMessage:e.title}):e.title}}))}),t?u.default.createElement("div",{className:f.default.content},u.default.createElement(c.default,null,t)):null)},g=(0,s.connect)(function(e){var t=e.setting;return{contentWidth:t.contentWidth}})(p);t.default=g}}]);